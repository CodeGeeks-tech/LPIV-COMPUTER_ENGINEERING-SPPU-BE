âœ… CODE EXPLANATION â€” Titanic Survival Prediction using Random Forest

This program predicts whether a passenger survived the Titanic shipwreck using machine learning.
The model uses Random Forest Classifier and evaluates accuracy, confusion matrix, and classification report.

ðŸ“Œ 1. Import Required Libraries
import pandas as pd
import numpy as np
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import LabelEncoder
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import accuracy_score, confusion_matrix, classification_report

âœ” Explanation:

pandas / numpy â†’ data handling

train_test_split â†’ split dataset

LabelEncoder â†’ convert categorical values to numeric

RandomForestClassifier â†’ ensemble machine learning model

accuracy_score, confusion_matrix, classification_report â†’ evaluation metrics

ðŸ“Œ 2. Load the Dataset
df = pd.read_csv('tiatanic.xls')
print(df.head())

âœ” Explanation:

Loads the Titanic dataset (Excel file converted to CSV-like format).

head() prints first 5 rows to understand structure.

Typical dataset columns include:

PassengerId, Survived, Pclass, Name, Sex, Age, SibSp, Parch, Ticket, Fare, Cabin, Embarked

ðŸ“Œ 3. Select Required Columns
df = df[['Survived', 'Pclass', 'Sex', 'Age', 'SibSp', 'Parch', 'Fare', 'Embarked']]

âœ” Explanation:

We keep only relevant features:

Survived â†’ target variable

Pclass, Sex, Age â†’ important predictors

SibSp, Parch â†’ number of siblings/parents

Fare, Embarked â†’ socio-economic indicators

ðŸ“Œ 4. Handling Missing Values
df['Age'].fillna(df['Age'].mean(), inplace=True)
df['Embarked'].fillna(df['Embarked'].mode()[0], inplace=True)

âœ” Explanation:

Age: missing values replaced with mean age

Embarked: missing values replaced with the most common port

This ensures the dataset has no NULL values.

ðŸ“Œ 5. Encode Categorical Features
label = LabelEncoder()
df['Sex'] = label.fit_transform(df['Sex'])
df['Embarked'] = label.fit_transform(df['Embarked'])

âœ” Explanation:

Machine learning models require numeric data, so:

Sex:

male â†’ 1

female â†’ 0

Embarked (C, Q, S) â†’ converted to 0, 1, 2

ðŸ“Œ 6. Split Features and Target
X = df.drop('Survived', axis=1)
y = df['Survived']

âœ” Explanation:

X â†’ all input features

y â†’ output label (0 = died, 1 = survived)

ðŸ“Œ 7. Split into Train & Test Sets
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.25, random_state=42)

âœ” Explanation:

75% training data

25% testing data

Random state ensures reproducibility

ðŸ“Œ 8. Build the Random Forest Model
model = RandomForestClassifier(n_estimators=100, random_state=42)

âœ” Explanation:

Random Forest = multiple decision trees joined to improve accuracy

n_estimators=100 â†’ uses 100 trees

Works very well for tabular datasets (like Titanic)

ðŸ“Œ 9. Train the Model
model.fit(X_train, y_train)

âœ” Explanation:

The model learns patterns from the training data.

ðŸ“Œ 10. Make Predictions
y_pred = model.predict(X_test)

âœ” Explanation:

Model predicts survival on test data.

ðŸ“Œ 11. Calculate Accuracy
print(" Accuracy:", accuracy_score(y_test, y_pred))

âœ” Explanation:

Accuracy = (Correct predictions / Total predictions)

ðŸ“Œ 12. Confusion Matrix
print("\nConfusion Matrix:\n", confusion_matrix(y_test, y_pred))

âœ” Explanation:
	Predicted Died	Predicted Survived
Actual Died	TN	FP
Actual Survived	FN	TP

Shows correct + incorrect predictions.

ðŸ“Œ 13. Classification Report
print("\nClassification Report:\n", classification_report(y_test, y_pred))

âœ” Explanation:

Gives:

Precision â†’ how many predicted survivors actually survived

Recall â†’ how many actual survivors were correctly identified

F1-score â†’ balance of precision & recall

ðŸŽ¯ FINAL SUMMARY â€” What This Code Does

âœ” Loads Titanic dataset
âœ” Selects important passenger features
âœ” Handles missing values
âœ” Converts categorical fields to numeric
âœ” Splits data into training and testing
âœ” Trains a Random Forest model
âœ” Predicts survival of passengers
âœ” Calculates:

Accuracy

Confusion Matrix

Precision

Recall

F1-Score

âœ” Helps determine which kinds of passengers were more likely to survive